<h2 class="content-block">iMATE TEST 03</h2>

<!-- 툴바 -->

<dx-toolbar>

  <dxi-item location="before" widget="dxButton" [options]="backButtonOptions">
  </dxi-item>

  <dxi-item location="before">
    <div *dxTemplate>
      <dx-button icon="refresh" (onClick)="refreshDataGrid($event)">
      </dx-button>
    </div>
  </dxi-item>

  <dxi-item location="center" widget="dxButton" locateInMenu="never">
    <div *dxTemplate>
      <div class="toolbar-label"><b>Seungmin's Club</b> Products</div>
    </div>
  </dxi-item>

  <dxi-item location="after"
            widget="dxButton"
            locateInMenu="auto">
    <div *dxTemplate>
      <!--<dx-button icon="add" (onClick)="saveDataGrid($event)">
      </dx-button>-->

      <dx-button icon="add" (onClick)="addDataGrid($event)">
      </dx-button>
    </div>
  </dxi-item>


  <dxi-item widget="dxButton"
            locateInMenu="always"
            [options]="saveButtonOptions">
  </dxi-item>

</dx-toolbar>


<!-- Master 데이터 정보, 입력 -->

<dx-data-grid class="dx-card wide-card"
              [dataSource]="dataSource"
              [showBorders]="true"
              [focusedRowEnabled]="true"
              [focusedRowIndex]="0"
              [columnAutoWidth]="true"
              [columnHidingEnabled]="true"
              (onFocusedRowChanged)="optionFocusedRowChanged($event)">
  <dxo-paging [pageSize]="10"></dxo-paging>
  <dxo-pager [showPageSizeSelector]="true" [showInfo]="true"></dxo-pager>
  <dxo-filter-row [visible]=" true"></dxo-filter-row>



  <dxo-editing mode="popup"
               [allowUpdating]="true"
               [allowDeleting]="true">

    <dxo-popup title="Employee Info"
               [showTitle]="true"
               [width]="700"
               [height]="650">

    </dxo-popup>
    <dxo-form>
      <dxi-item itemType="group" [colCount]="2" [colSpan]="2">
        <dxi-item dataField="dATA1"></dxi-item>
        <dxi-item dataField="dATA2"></dxi-item>
        <dxi-item dataField="dATA3" [colSpan]="2"></dxi-item>
        <dxi-item dataField="nUM1" [colSpan]="2"></dxi-item>
        <dxi-item dataField="cOD1">
          <dxo-lookup [dataSource]="states" displayExpr="Name" valueExpr="ID">
          </dxo-lookup>
        </dxi-item>
        <dxi-item>
          <dxo-label text="직책"></dxo-label>
          <div *dxTemplate>
            <dx-drop-down-box [(value)]="gridBoxValue"
                              valueExpr="ID"
                              displayExpr="Name"
                              placeholder="Select a value..."
                              [showClearButton]="true"
                              [dataSource]="roles">

              <dx-data-grid [dataSource]="roles"
                            [columns]="['ID', 'Name']"
                            [selection]="{ mode: 'multiple' }"
                            [hoverStateEnabled]="true"
                            [paging]="{ enabled: true, pageSize: 10 }"
                            [filterRow]="{ visible: true }"
                            [scrolling]="{ mode: 'virtual' }"
                            [height]="345"
                            keyExpr="ID"
                            [(selectedRowKeys)]="gridBoxValue">
              </dx-data-grid>
            </dx-drop-down-box>
          </div>
        </dxi-item>
        <dxi-item dataField="updat" caption="일자">
          <dx-date-box type="date"
                       [(value)]="now"
                       pickerType="rollers"
                       displayFormat="MM-dd-yyyy"
                       [useMaskBehavior]="true"
                       [showClearButton]="true">
          </dx-date-box>
        </dxi-item>

        <dxi-item dataField="uptim" caption="시간">
          <dx-date-box type="time"
                       [(value)]="now"
                       pickerType="rollers"
                       displayFormat="HH:mm:ss"
                       [useMaskBehavior]="true"
                       [showClearButton]="true">
          </dx-date-box>
        </dxi-item>

      </dxi-item>

    </dxo-form>
  </dxo-editing>
  <dxi-column dataField="dATA1"
              [width]="90">
  </dxi-column>
  <dxi-column dataField="dATA2"
              [width]="190"
              caption="데이터1">
  </dxi-column>
  <dxi-column dataField="dATA3"
              caption="데이터2">
  </dxi-column>
  <dxi-column dataField="nUM1"
              caption="숫자">
  </dxi-column>

  <dxi-column dataField="cOD1" caption="상태">
    <dxo-lookup [dataSource]="states" displayExpr="Name" valueExpr="ID">
    </dxo-lookup>
  </dxi-column>

  <dxi-column dataField="sEL1" caption="직책">

  </dxi-column>

  <dxi-column dataField="updat"
              dataType="date"
              caption="수정/추가 일자">
  </dxi-column>
  <dxi-column dataField="uptim"
              dataType="time"
              caption="수정/추가 시간">
  </dxi-column>
</dx-data-grid>

<!-- 폼 데이터 -->
<div class="widget-container">
  <div *ngIf="labelMode === 'outside'">Select company:</div>


  <dx-select-box #company
                 displayExpr="dATA1"
                 [(dataSource)]="dataSource"
                 label="Select Data"
                 [labelMode]="getCompanySelectorLabelMode()"
                 [value]="dataSource[0]"></dx-select-box>
  <dx-form id="form"
           [(formData)]="company.value"
           [readOnly]="readOnly"
           [labelMode]="labelMode"
           [showColonAfterLabel]="showColon"
           [labelLocation]="labelLocation"
           [minColWidth]="minColWidth"
           [colCount]="3"
           [width]="width">

  </dx-form>
</div>


<!-- Detail 데이터 정보, 입력 -->

<div id="data-grid-demo">
  <dx-data-grid id="gridContainer"
                [dataSource]="dataSource"
                [showBorders]="true">

    <dxo-paging [enabled]="false"></dxo-paging>
    <dxo-editing mode="batch"
                 [allowUpdating]="true"
                 [allowDeleting]="true"
                 [allowAdding]="true"
                 [selectTextOnEditStart]="selectTextOnEditStart"
                 [startEditAction]="startEditAction">
    </dxo-editing>



    <dxi-column dataField="dATA1" caption="dATA1"> </dxi-column>
    <dxi-column dataField="iTMNO" caption="iTMNO"> </dxi-column>
    <dxi-column dataField="dETAIL1" caption="dETAIL1"> </dxi-column>
    <dxi-column dataField="dETAIL2" caption="dETAIL2"> </dxi-column>
    <dxi-column dataField="dETNUM1" caption="dETNUM1"> </dxi-column>
    <dxi-column dataField="dETNUM2" caption="dETNUM2"> </dxi-column>

    <dxi-column dataField="dETSEL1"
                caption="dETSEL1"
                [allowFiltering]="false"
                [allowSorting]="false"
                [width]="300"
                cellTemplate="Sel1cellTemplate">
    </dxi-column>

    <dxi-column dataField="dETSEL2"
                caption="dETSEL2"
                [allowFiltering]="false"
                [allowSorting]="false"
                [width]="500"
                cellTemplate="Sel2cellTemplate">
    </dxi-column>

    <dxi-column dataField="dETOPT"
                caption="dETOPT"
                [allowFiltering]="false"
                [allowSorting]="false"
                [width]="400"
                cellTemplate="OptcellTemplate">

    </dxi-column>
    <dxi-column dataField="updat"
                dataType="date"
                caption="수정/추가 일자"
                cellTemplate="datcellTemplate"
                [width]="250">
    </dxi-column>
    <dxi-column dataField="uptim"
                dataType="time"
                caption="수정/추가 시간"
                cellTemplate="timcellTemplate">
    </dxi-column>


    <!-- 셀 템플릿-->
    <!--Sel1 cellTemplate-->
    <div *dxTemplate="let data of 'Sel1cellTemplate'">
      <div class="dx-field">
        <div class="dx-field-label">사용</div>
        <div class="dx-field-value">
          <dx-check-box [value]="true"></dx-check-box>
        </div>
      </div>
      <div class="dx-field-label">사용안함</div>
      <div class="dx-field-value">
        <dx-check-box [value]="false"></dx-check-box>
      </div>
    </div>
    <!--Sel2 cellTemplate-->
    <div *dxTemplate="let data of 'Sel2cellTemplate'">
      <dxo-label text="Sel2" alignment="center"></dxo-label>
      <div class="dx-field">
        <div class="dx-field-label">Options</div>
        <div class="dx-field-value">
          <dx-radio-group [items]="priorities"
                          [value]="priorities[0]"
                          layout="horizontal">
          </dx-radio-group>
        </div>
      </div>
    </div>
    <!--Opt cellTemplate-->
    <dxo-label text="옵션"></dxo-label>
    <div *dxTemplate="let data of 'OptcellTemplate'">
      <dx-drop-down-box [(value)]="gridBoxValue"
                        valueExpr="ID"
                        displayExpr="Name"
                        placeholder="Select a value..."
                        [showClearButton]="true"
                        [dataSource]="option">

        <dx-data-grid [dataSource]="option"
                      [columns]="['ID', 'Name']"
                      [selection]="{ mode: 'multiple' }"
                      [hoverStateEnabled]="true"
                      [paging]="{ enabled: true, pageSize: 10 }"
                      [filterRow]="{ visible: true }"
                      [scrolling]="{ mode: 'virtual' }"
                      [height]="345"
                      keyExpr="ID"
                      [(selectedRowKeys)]="gridBoxValue">
        </dx-data-grid>
      </dx-drop-down-box>
    </div>
    <!--date cellTemplate-->
    <div *dxTemplate="let data of 'datcellTemplate'">
      <dx-date-box type="date"
                   [(value)]="now"
                   pickerType="rollers"
                   displayFormat="MM-dd-yyyy">
      </dx-date-box>

    </div>
    <!--time cellTemplate-->
    <div *dxTemplate="let data of 'timcellTemplate'">
      <dx-date-box type="time"
                   [(value)]="now"
                   pickerType="rollers"
                   displayFormat="HH:mm:ss">
      </dx-date-box>


    </div>
  </dx-data-grid>

  <div class="options">
    <div class="caption">Options</div>
    <div class="option">
      <dx-check-box [(value)]="selectTextOnEditStart"
                    text="Select Text on Edit Start">
      </dx-check-box>
    </div>
  </div>
</div>

